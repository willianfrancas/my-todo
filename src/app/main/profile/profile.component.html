<div class="title">
  <h1>Perfil</h1>
</div>
<hr>
<div class="profile">
  <div>
    <form class="form-group" [formGroup]="formProfile" (ngSubmit)="onSubmit()">
      <div class="container">
        <div class="row flex-column">

          <div class="row">
            <div class="input--control col-sm-12 col-md-6">
              <label class="form-label" for="firstname">Nome</label>
              <input type="text" id="firstname" formControlName="firstname" maxlength="16">
              <div class="input--feedback">
                <control-field-error [showError]="isValid(f.firstname)" msgError="nome é obrigatório">
                </control-field-error>
              </div>
            </div>

            <div class="input--control col-sm-12 col-md-6">
              <label class="form-label" for="lastname">Sobrenome</label>
              <input type="text" id="lastname" formControlName="lastname" maxlength="32">
              <div class="input--feedback">
                <control-field-error [showError]="isValid(f.lastname)" msgError="sobrenome é obrigatório">
                </control-field-error>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="input--control col-sm-12 col-md-4">
              <label class="form-label" for="username">Nome de usuário</label>
              <input type="text" id="username" formControlName="username" maxlength="18" placeholder="meu_usuario">
              <div class="input--feedback">
                <control-field-error [showError]="isValid(f.username)" msgError="nome de usuário é obrigatório">
                </control-field-error>
              </div>
            </div>

            <div class="input--control col-sm-6 col-md-4">
              <label class="form-label" for="password">Senha</label>
              <input type="password" id="password" formControlName="password" placeholder="senha">
              <div class="input--feedback">

              </div>
            </div>

            <div class="input--control col-sm-6 col-md-4">
              <label class="form-label" for="confirm_password">Confirmação de senha</label>
              <input type="password" id="confirm_password" placeholder="confirmação de senha"
                formControlName="passwordConfirmation" #passwordConfirmation>
              <div class="input--feedback">

              </div>
            </div>
          </div>

          <div class="row">
            <div class="input--control col-sm-8">
              <label class="form-label" for="email">E-mail</label>
              <input type="email" id="email" formControlName="email" placeholder="seuemail@email.com">
              <div class="input--feedback">
                <control-field-error [showError]="isValid(f.email)" msgError="email é obrigatório">
                </control-field-error>
              </div>
            </div>

            <div class="input--control col-sm-4">
              <label class="form-label" for="phone">Celular</label>
              <input type="text" id="phone" formControlName="mobilephone" placeholder="(00) 0 0000-0000">
              <div class="input--feedback">
              </div>
            </div>
          </div>

          <div class="feedback">
            <div [ngClass]="feedback ? 'feedback__message' : ''">
              <p class="message">{{feedback}}</p>
            </div>
            <div class="spinner-border feedback__loading" *ngIf="loading">
              <div class="sr-only">carregando...</div>
            </div>
          </div>

          <div class="d-flex flex-row">
            <button type="button" class="btn btn-secondary" (click)="cancel($event)">Cancelar</button>
            <button class="btn btn-dark ml-2" [disabled]="!formProfile.valid">Salvar</button>
          </div>

        </div>
      </div>
    </form>
  </div>

</div>